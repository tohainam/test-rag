# Server Configuration
PORT=50054
TCP_PORT=4004
NODE_ENV=development

# Database Configuration (ltv_assistant_datasource_db)
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=root
DB_NAME=ltv_assistant_datasource_db
DB_POOL_MAX=10

# Storage Configuration
# Provider type: s3 (supports MinIO, AWS S3, DigitalOcean Spaces, etc.)
# Future options: azure, gcs
STORAGE_PROVIDER_TYPE=s3
STORAGE_ENDPOINT=localhost
STORAGE_PORT=9000
STORAGE_ACCESS_KEY=minioadmin
STORAGE_SECRET_KEY=minioadmin
STORAGE_BUCKET=documents
STORAGE_USE_SSL=false
STORAGE_REGION=us-east-1
STORAGE_FORCE_PATH_STYLE=true

# Upload Configuration
MAX_SINGLE_UPLOAD_SIZE_MB=20
MULTIPART_CHUNK_SIZE_MB=5
MAX_FILE_SIZE_MB=1000
# Presigned URL expiry reduced to 5 minutes for better security
# Shorter expiry window reduces risk if presigned URL is leaked
PRESIGNED_URL_EXPIRY_MINUTES=5

# Note: NestJS has built-in body parser with reasonable defaults
# File uploads use presigned URLs and bypass the body parser entirely
# Only file metadata (tiny JSON payload) goes through the body parser

# Auth Service Configuration (TCP)
AUTH_SERVICE_HOST=localhost
AUTH_SERVICE_TCP_PORT=4001

# Redis Configuration (for BullMQ)
REDIS_HOST=localhost
REDIS_PORT=6379

# Indexing Service Configuration (TCP)
INDEXING_SERVICE_HOST=localhost
INDEXING_SERVICE_TCP_PORT=4003

# Logging Configuration
SERVICE_NAME=ltv-assistant-datasource
LOG_LEVEL=info
LOG_DIR=/Users/tohainam/Desktop/work/ltv-assistant/logs
APP_VERSION=1.0.0

# OpenTelemetry Tracing Configuration
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces

# Outbox Pattern Configuration
OUTBOX_PUBLISHER_ENABLED=true
OUTBOX_CRON_INTERVAL_SECONDS=5
OUTBOX_PUBLISH_BATCH_SIZE=3
OUTBOX_MAX_WAITING_BACKLOG=3
OUTBOX_MAX_RETRY_COUNT=10
OUTBOX_RETRY_BACKOFF_BASE_SECONDS=2
